# 基于mumu虚拟定位api的路径模拟

## 技术原理

`MuMuManager`定位`api`，参见**mumu官方文档**

`cv2.matchTemplate`图象对比定位

模仿定位广播实现轨迹模拟

`gpt`优化（雾）

## 使用说明

本脚本主要针对**重工商企业微信乐跑**

先安装**新版**mumu模拟器

设置分辨率为**平板-1600*900**

下载好企业微信和微信并**平板登录**

先手动乐跑试一下

如果遇到**定位获取失败**请多重启几次（企业微信的未知bug）

如果是提示**不在跑区内**，可以直接运行脚本无妨

结束的时候经常**网路不畅**，就去**乐跑记录**那看看有没有上传成功

运行脚本请在一个**工作区中**运行，不然相对路径要在你电脑用户目录拉屎

按照导入的库拉取就是，作者环境为`py3.10`

由于性能延迟的存在，广播的间隔不够准确，会导致实际跑的路径少于显示的路径

（除非用c++之类的重写，也不是不行）

## 参数说明

\# ——定位参数——

`WALK_PATH` # 从百度地图之类的工具取经纬度加入列表即可，默认为兰花胡的定位，会列表循环

\# ——运动参数——

`JITTER_RADIUS_M` = 2.0  # 定位抖动半径（米）（模拟定位失真）

`BASE_SPEED_MPS` = 4.5  # 平均速度（米/秒）

`SPEED_JITTER_RATIO` = 0.20  # 速度波动 ±20%（模拟步频）

`TICK_INTERVAL_SEC` = 0.40  # 每帧时间（秒）

`DIST_LIMIT_M` = 16000  # 总距离阈值（米）“”是的，我常年霸榜榜一“”

\# ——等待间隔——

`TAP_DELAY_SEC` = 1.0 # 每轮模拟点击间隔

`WINDOW_DELAY_SEC` = 10.0 # 等待应用打开的时间，性能差请调大





碎碎念：

我本来没打算把脚本开源出来，虽然很简单，但是还是很不舒服有人将我的脚本直接开源了出来

虽然有拉我为协助，但还是很不舒服，于是我就将我写好的自动化加上，重新开了一个仓库

硬要说的话这个是第二版